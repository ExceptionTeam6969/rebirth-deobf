//Deobfuscated with https://github.com/SimplyProgrammer/Minecraft-Deobfuscator3000 using mappings "C:\Users\23204\Desktop\cn×îÇ¿·´±àÒëÆ÷\1.12 stable mappings"!

//Decompiled by Procyon!

package me.rebirthclient.mod.modules.impl.exploit;

import me.rebirthclient.mod.modules.settings.*;
import me.rebirthclient.api.util.*;
import java.util.*;
import me.rebirthclient.api.events.impl.*;
import net.minecraft.util.*;
import net.minecraft.init.*;
import net.minecraft.entity.*;
import net.minecraft.network.*;
import net.minecraftforge.fml.common.eventhandler.*;
import net.minecraft.network.play.client.*;
import me.rebirthclient.mod.modules.*;

public class SuperThrow extends Module
{
    public Setting factor;
    public final Setting pearls;
    public final Setting potions;
    public Setting minimize;
    public final Setting snowballs;
    public final Setting eggs;
    public Setting exploit;
    public static Timer delayTimer;
    public Setting delay;
    public final Setting xp;
    public Setting Mode;
    public Setting rotation;
    private final Random rnd;
    
    @SubscribeEvent
    protected void onPacketSend(final PacketEvent.Send send) {
        if (fullNullCheck() || !SuperThrow.delayTimer.passedMs((long)((float)this.delay.getValue() * 1000.0f))) {
            return;
        }
        if (send.getPacket() instanceof CPacketPlayerDigging && ((CPacketPlayerDigging)send.getPacket()).getAction() == CPacketPlayerDigging.Action.RELEASE_USE_ITEM) {
            SuperThrow.mc.player.getActiveItemStack().getItem();
        }
        if (send.getPacket() instanceof CPacketPlayerTryUseItem && ((CPacketPlayerTryUseItem)send.getPacket()).getHand() == EnumHand.MAIN_HAND && ((SuperThrow.mc.player.getHeldItemMainhand().getItem() == Items.ENDER_PEARL && (boolean)this.pearls.getValue()) || (SuperThrow.mc.player.getHeldItemMainhand().getItem() == Items.EXPERIENCE_BOTTLE && (boolean)this.xp.getValue()) || (SuperThrow.mc.player.getHeldItemMainhand().getItem() == Items.EGG && (boolean)this.eggs.getValue()) || (SuperThrow.mc.player.getHeldItemMainhand().getItem() == Items.SPLASH_POTION && (boolean)this.potions.getValue()) || (SuperThrow.mc.player.getHeldItemMainhand().getItem() == Items.SNOWBALL && (boolean)this.snowballs.getValue()))) {
            SuperThrow.mc.player.connection.sendPacket((Packet)new CPacketEntityAction((Entity)SuperThrow.mc.player, CPacketEntityAction.Action.START_SPRINTING));
            final double[] array = { 100.0 * -Math.sin(Math.toRadians(SuperThrow.mc.player.rotationYaw)), 100.0 * Math.cos(Math.toRadians(SuperThrow.mc.player.rotationYaw)) };
            if (this.exploit.getValue() == exploitEn.Fast) {
                int n = 0;
                if (n < this.getRuns()) {
                    this.spoof(SuperThrow.mc.player.posX, ((boolean)this.minimize.getValue()) ? SuperThrow.mc.player.posY : (SuperThrow.mc.player.posY - 1.0E-10), SuperThrow.mc.player.posZ, true);
                    this.spoof(SuperThrow.mc.player.posX, SuperThrow.mc.player.posY + 1.0E-10, SuperThrow.mc.player.posZ, false);
                    ++n;
                    return;
                }
            }
            if (this.exploit.getValue() == exploitEn.Strong) {
                int n2 = 0;
                if (n2 < this.getRuns()) {
                    this.spoof(SuperThrow.mc.player.posX, SuperThrow.mc.player.posY + 1.0E-10, SuperThrow.mc.player.posZ, false);
                    this.spoof(SuperThrow.mc.player.posX, ((boolean)this.minimize.getValue()) ? SuperThrow.mc.player.posY : (SuperThrow.mc.player.posY - 1.0E-10), SuperThrow.mc.player.posZ, true);
                    ++n2;
                    return;
                }
            }
            if (this.exploit.getValue() == exploitEn.Phobos) {
                int n3 = 0;
                if (n3 < this.getRuns()) {
                    this.spoof(SuperThrow.mc.player.posX, SuperThrow.mc.player.posY + 1.3E-13, SuperThrow.mc.player.posZ, true);
                    this.spoof(SuperThrow.mc.player.posX, SuperThrow.mc.player.posY + 2.7E-13, SuperThrow.mc.player.posZ, false);
                    ++n3;
                    return;
                }
            }
            if (this.exploit.getValue() == exploitEn.Strict) {
                int n4 = 0;
                if (n4 < this.getRuns()) {
                    if (this.rnd.nextBoolean()) {
                        this.spoof(SuperThrow.mc.player.posX - array[0], SuperThrow.mc.player.posY, SuperThrow.mc.player.posZ - array[1], false);
                    }
                    else {
                        this.spoof(SuperThrow.mc.player.posX + array[0], SuperThrow.mc.player.posY, SuperThrow.mc.player.posZ + array[1], true);
                    }
                    ++n4;
                    return;
                }
            }
            SuperThrow.delayTimer.reset();
        }
    }
    
    static {
        SuperThrow.delayTimer = new Timer();
    }
    
    private void spoof(final double n, final double n2, final double n3, final boolean b) {
        if (this.rotation.getValue()) {
            SuperThrow.mc.player.connection.sendPacket((Packet)new CPacketPlayer.PositionRotation(n, n2, n3, SuperThrow.mc.player.rotationYaw, SuperThrow.mc.player.rotationPitch, b));
        }
        else {
            SuperThrow.mc.player.connection.sendPacket((Packet)new CPacketPlayer.Position(n, n2, n3, b));
        }
    }
    
    public SuperThrow() {
        super("SuperThrow", "exploit", Category.EXPLOIT);
        this.pearls = this.register(new Setting("EPearls", true));
        this.xp = this.register(new Setting("XP", true));
        this.eggs = this.register(new Setting("Eggs", true));
        this.potions = this.register(new Setting("SplashPotions", true));
        this.snowballs = this.register(new Setting("Snowballs", true));
        this.rotation = this.add(new Setting("Rotation", false));
        this.Mode = this.add(new Setting("Mode", ModeEn.Maximum));
        this.factor = this.add(new Setting("Factor", 1.0f, 1.0f, 20.0f));
        this.exploit = this.add(new Setting("Exploit", exploitEn.Strong));
        this.minimize = this.add(new Setting("Minimize", false));
        this.delay = this.add(new Setting("Delay", 5.0f, 0.0f, 10.0f));
        this.rnd = new Random();
    }
    
    private int getRuns() {
        if (this.Mode.getValue() == ModeEn.Factorised) {
            return 10 + (int)((float)this.factor.getValue() - 1.0f);
        }
        if (this.Mode.getValue() == ModeEn.Normal) {
            return (int)Math.floor((float)this.factor.getValue());
        }
        if (this.Mode.getValue() == ModeEn.Maximum) {
            return (int)(30.0f * (float)this.factor.getValue());
        }
        return 1;
    }
    
    private enum exploitEn
    {
        private static final exploitEn[] $VALUES;
        
        Phobos("Phobos", 3), 
        Strong("Strong", 0), 
        Strict("Strict", 2), 
        Fast("Fast", 1);
        
        static {
            $VALUES = new exploitEn[] { exploitEn.Strong, exploitEn.Fast, exploitEn.Strict, exploitEn.Phobos };
        }
        
        private exploitEn(final String s, final int n) {
        }
    }
    
    private enum ModeEn
    {
        Normal("Normal", 0), 
        Factorised("Factorised", 2);
        
        private static final ModeEn[] $VALUES;
        
        Maximum("Maximum", 1);
        
        private ModeEn(final String s, final int n) {
        }
        
        static {
            $VALUES = new ModeEn[] { ModeEn.Normal, ModeEn.Maximum, ModeEn.Factorised };
        }
    }
}
